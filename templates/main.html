<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KUS 버스 - 메인</title>
    <link rel="icon" type="image/x-icon" href="/static/images/cropped-korea-Univ.-logo_favicon_512.ico">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="/static/css/main.css">
    <link rel="stylesheet" href="calendar-style.css">
    
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
</head>
<body>
    <div class="header">
        <img src="/static/images/Global_Symbol.jpg" alt="고려대학교 로고" class="ku-logo">
        <h1>고려대학교(세종) 셔틀버스 배차표</h1>
    </div>

    <div class="container">
        <div class="button-time-container">
            <div class="buttons-wrapper">
                <a href="/full-schedule" class="view-all-button">시간표 전체</a>
                <a href="/menu" class="menu-button">식단표 보기</a>
                <a href="/contact" class="contact-button">Contact ME</a>
            </div>
            <div class="current-time">
                <div class="current-time-header">현재 시간</div>
                <div class="current-time-content" id="current-time-display"></div>
            </div>
        </div>
        
        <div class="next-buses">
            <div class="bus-section">
                <h2>학교 → 조치원역</h2>
                <div id="nextSchoolToStation"></div>
            </div>
            <div class="bus-section">
                <h2>조치원역 → 학교</h2>
                <div id="nextStationToSchool"></div>
            </div>
            <div class="bus-section">
                <h2>오송역 노선</h2>
                <div id="nextOsongBuses"></div>
            </div>
        </div>
    </div>
    
    <div id="calendar-fab" class="calendar-fab" title="캘린더 보기">
        <span>📅</span>
    </div>

    <div id="calendar-modal" class="modal-overlay">
        <div class="calendar-container">
            <!-- 캘린더 제목 추가 -->
            <div class="calendar-modal-title">
                <h1>학사일정 캘린더</h1>
            </div>
            
            <div class="calendar-header">
                <div id="calendar-title-container" class="calendar-title-container">
                    <h2 id="calendar-title"></h2>
                    <span class="arrow-down">▼</span>
                </div>
                <div class="header-buttons">
                    <button id="go-to-today" title="오늘로 이동">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 10V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h6"/><path d="M3 10h18"/><path d="M8 2v4"/><path d="M16 2v4"/><circle cx="18" cy="18" r="4"/><path d="M18 16v2h1"/></svg>
                    </button>
                    <button id="prev-month" title="이전 달">◀</button>
                    <button id="next-month" title="다음 달">▶</button>
                    <button id="close-modal" title="닫기">&times;</button>
                </div>
            </div>
            
            <div class="calendar-main">
                <div class="calendar-view">
                    <div class="calendar-grid" id="calendar-days">
                        <div class="day-name sunday">일</div>
                        <div class="day-name">월</div>
                        <div class="day-name">화</div>
                        <div class="day-name">수</div>
                        <div class="day-name">목</div>
                        <div class="day-name">금</div>
                        <div class="day-name saturday">토</div>
                    </div>
                    <div class="calendar-body-wrapper">
                        <div class="calendar-grid" id="calendar-body"></div>
                    </div>
                </div>
                <div id="date-picker" class="date-picker">
                    <div class="picker-header">
                        <select id="year-select"></select>
                    </div>
                    <div id="month-select" class="month-select"></div>
                </div>
            </div>

            <div id="schedule-display" class="schedule-display">
                <div class="scroll-guide">
                    <span class="scroll-icon">↓</span> 스크롤하여 더 보기
                </div>
                <div class="scroll-indicator">
                    <div class="scroll-indicator-thumb"></div>
                </div>
            </div>
        </div>
    </div>

    <script src="/static/js/main.js"></script>
    <script src="calendar-logic.js"></script>
</body>
</html>